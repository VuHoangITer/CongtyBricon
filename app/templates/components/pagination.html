{#
  Reusable Pagination Component
  Parameters:
    - pagination: Pagination object
    - endpoint: Route name (e.g., 'main.blog')
    - category_slug: Optional category filter
    - search: Optional search query
    - sort: Optional sort parameter
#}

{% if pagination.pages > 1 %}
<nav class="mt-5" aria-label="Pagination">
  <ul class="pagination justify-content-center">
    <!-- Previous Button -->
    <li class="page-item {% if not pagination.has_prev %}disabled{% endif %}">
      <a
        class="page-link"
        href="{% if pagination.has_prev %}{{ url_for(endpoint, page=pagination.prev_num, category_slug=category_slug, search=search, sort=sort) }}{% else %}#{% endif %}"
        aria-label="Previous"
      >
        <i class="bi bi-chevron-left"></i> Trước
      </a>
    </li>

    <!-- Page Numbers -->
    {% for page_num in pagination.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
      {% if page_num %}
      <li class="page-item {% if page_num == pagination.page %}active{% endif %}">
        <a
          class="page-link"
          href="{{ url_for(endpoint, page=page_num, category_slug=category_slug, search=search, sort=sort) }}"
        >
          {{ page_num }}
        </a>
      </li>
      {% else %}
      <li class="page-item disabled">
        <span class="page-link">...</span>
      </li>
      {% endif %}
    {% endfor %}

    <!-- Next Button -->
    <li class="page-item {% if not pagination.has_next %}disabled{% endif %}">
      <a
        class="page-link"
        href="{% if pagination.has_next %}{{ url_for(endpoint, page=pagination.next_num, category_slug=category_slug, search=search, sort=sort) }}{% else %}#{% endif %}"
        aria-label="Next"
      >
        Sau <i class="bi bi-chevron-right"></i>
      </a>
    </li>
  </ul>
</nav>
{% endif %}
